<div class="h-full flex flex-col p-4">

    @if (isLoading()) {
    <div class="animate-pulse w-full">
        <div class="space-y-2 mt-5">
            @for (item of [1, 2, 3]; track $index) {
            <app-skeleton-loader customClass="h-[48px] w-[85%] rounded-md block" />
            }
        </div>
    </div>
    } @else {

    @if (denuncias(); as denuncias) {

    <div class="flex flex-col md:flex-row justify-between items-center md:items-center gap-2 mb-2 shrink-0">
        <div class="flex items-center gap-x-3">
            <h1 appText="h2">Dashboard</h1>
            <p class="text-slate-500 text-sm">
                Bienvenido de nuevo, <span class="font-semibold text-slate-700">{{ userName() }}</span>.
            </p>
        </div>

        @if (showCreateButton()) {
        <div class="shrink-0">
            <app-submit-button [variant]="'full'" label="Nueva Denuncia" [icon]="faPlus" btnType="button"
                (click)="goToCreate()" (keydown.enter)="goToCreate()">
            </app-submit-button>
        </div>
        }
    </div>

    <div class="flex flex-col gap-4 flex-1 min-h-0">

        <div class="shrink-0">
            <app-estadisticas [stats]="stats()"></app-estadisticas>
        </div>

        <div class="flex-1 min-h-0 relative">
            <app-denuncias-table [denuncias]="denuncias" (onCreate)="goToCreate()" class="h-full block">
            </app-denuncias-table>
        </div>
    </div>

    } @else {
    <div class="flex flex-1 items-center justify-center h-full">
        <p class="text-slate-500">Cargando datos...</p>
    </div>
    }
    }
</div>
