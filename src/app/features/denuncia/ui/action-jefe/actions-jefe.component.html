<div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-0">
    @if (isEnValidacion()) {
    <h2 appText="h3" class="mb-1">Validar solución de denuncia</h2>

    <div class=" space-y-3">
        <div>
            <label class="block text-xs text-slate-500 font-medium text-left mb-3" for="comentarios">Comentarios
                (opcional)</label>
            <app-input id="comentarios" placeholder="Comentarios acerca de la validación o rechazo..."
                [formControl]="form.controls.comentarioObservacion" [multiline]="true" [rows]="3" [icon]="faComment"
                [maxlength]="1000">
            </app-input>
            <div class="mt-1 text-xs text-gray-500 flex items-center justify-between">
                <div id="comentarios">Requerido. 10–1000 caracteres.</div>
                <div class="text-gray-400">{{ (form.get('comentarioObservacion')?.value?.length || 0) }}/1000
                </div>
            </div>
        </div>
        <app-submit-button label="Validar Denuncia" [icon]="faCheck" (click)="validarDenunciaPorJefe(true)"
            class="block w-full">
        </app-submit-button>
        <app-submit-button label="Rechazar Denuncia" [icon]="faTimes" (click)="validarDenunciaPorJefe(false)"
            class="block w-full">
        </app-submit-button>
    </div>
    }
    @else {
    <h2 appText="h3" class="mb-1">Asignación de responsable</h2>
    <p appText="caption" class="mb-6">Seleccione el operador para atender el caso.</p>
    <form [formGroup]="form" (ngSubmit)="asignarOperadorPorJefe()" class="space-y-4">
        <div>
            <app-select id="operador" label="Operador Encargado" placeholder="Seleccione un operador..."
                [options]="operadores()" [formControl]="form.controls.operadorId">
            </app-select>
        </div>
        <app-submit-button label="Asignar Operador" [icon]="faUsers" btnType="submit" [isDisabled]="form.invalid"
            class="mt-2 block w-full">
        </app-submit-button>
    </form>
    }
</div>
