<label for="descripcion" class="block text-sm font-semibold text-slate-700 mb-2 mt-3">Categor√≠a</label>
<section class="w-full max-w-4xl mx-auto ">
    <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
        @for (category of categories(); track category.value) {

        <label class="relative cursor-pointer group">

            <input type="radio" name="category" [value]="category.value"
                [checked]="selectedCategory() === category.value" (change)="updateSelection(category.value)"
                class="peer sr-only" />

            <div class="
            flex flex-col items-center justify-center 
            aspect-square rounded-xl border-2 transition-all duration-200 ease-in-out
            
            /* Estado Inactivo (Default) */
            bg-gray-50 border-transparent text-gray-400 hover:bg-gray-100
            
            /* Estado Seleccionado (peer-checked) - Replica el borde azul y fondo tenue */
            peer-checked:bg-blue-50 peer-checked:border-blue-500 peer-checked:text-gray-800
            
            /* Foco para accesibilidad */
            peer-focus-visible:ring-2 peer-focus-visible:ring-blue-400 peer-focus-visible:ring-offset-2
        ">

                <div
                    class="absolute top-2 right-2 opacity-0 peer-checked:opacity-100 transition-opacity duration-200 text-blue-500">
                    <fa-icon [icon]="faCheckCircle" class="text-lg"></fa-icon>
                </div>

                <fa-icon [icon]="category.icon" class="text-3xl mb-3 peer-checked:text-gray-600"></fa-icon>

                <span class="font-bold text-sm text-center select-none">{{ category.label }}</span>

            </div>
        </label>
        }
    </div>
</section>
